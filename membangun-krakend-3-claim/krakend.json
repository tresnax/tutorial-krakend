{
    "version": 3,
    "output_encoding": "no-op",
    "http_port": 8080,
    "endpoints": [
        {
            "endpoint": "/login",
            "method": "POST",
            "backend": [
              {
                "url_pattern": "/login",
                "method": "POST",
                "host": ["http://auth-service:3000"]
            }
          ]
        },
        {
            "endpoint": "/user",
            "method": "GET",
            "extra_config": {
                "auth/validator": {
                      "alg": "HS256",
                      "jwk_local_path": "./jwk.json",
                      "cache": false,
                      "disable_jwk_security": true,
                      "operation_debug": true,
                      "propagate_claims": [
                            ["username", "x-user"]
                        ]
                  }
            },
            "concurrent_calls": 1,
            "input_headers": ["x-user"],
            "backend": [
              {
                "url_pattern": "/user-info",
                "method": "GET",
                "host": ["http://user-service:3000"]
            }
          ],
          "headers_to_pass": ["Authorization"]
        },
        {
            "endpoint": "/kursus",
            "method": "GET",
            "backend": [ 
              { 
                "url_pattern": "/courses",
                "method": "GET",
                "host": ["http://course-service:3000"]
            } 
          ]
        },
        {
            "endpoint": "/keranjang",
            "method": "GET",
            "backend": [
              {
                "url_pattern": "/purchases",
                "method": "GET",
                "host": ["http://taken-service:3000"]
            }
          ]
        }
    ]
  }
  